{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/alphacamp/todolist-react-starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/User/alphacamp/todolist-react-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/User/alphacamp/todolist-react-starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var authURL='https://todo-list.alphacamp.io/api/auth';export var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var username,password,_yield$axios$post,data,authToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:username=_ref.username,password=_ref.password;_context.prev=1;_context.next=4;return axios.post(\"\".concat(authURL,\"/login\"),{username:username,password:password});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;authToken=data.authToken;if(!authToken){_context.next=9;break;}return _context.abrupt(\"return\",_objectSpread({success:true},data));case 9:return _context.abrupt(\"return\",data);case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.error('[Login Failed]:',_context.t0);return _context.abrupt(\"return\",{success:false});case 16:case\"end\":return _context.stop();}},_callee,null,[[1,12]]);}));return function login(_x){return _ref2.apply(this,arguments);};}();export var register=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3){var username,email,password,_yield$axios$post2,data,authToken;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:username=_ref3.username,email=_ref3.email,password=_ref3.password;_context2.prev=1;_context2.next=4;return axios.post(\"\".concat(authURL,\"/register\"),{username:username,email:email,password:password});case 4:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;authToken=data.authToken;if(!authToken){_context2.next=9;break;}return _context2.abrupt(\"return\",_objectSpread({success:true},data));case 9:return _context2.abrupt(\"return\",data);case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](1);console.error('[Register Failed]: ',_context2.t0);return _context2.abrupt(\"return\",{success:false});case 16:case\"end\":return _context2.stop();}},_callee2,null,[[1,12]]);}));return function register(_x2){return _ref4.apply(this,arguments);};}();export var checkPermission=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(authToken){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"\".concat(authURL,\"/test-token\"),{headers:{Authorization:'Bearer '+authToken}});case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data.success);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.error('[Check Permission Failed]:',_context3.t0);case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);}));return function checkPermission(_x3){return _ref5.apply(this,arguments);};}();","map":{"version":3,"names":["axios","authURL","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","username","password","_yield$axios$post","data","authToken","wrap","_callee$","_context","prev","next","post","concat","sent","abrupt","_objectSpread","success","t0","console","error","stop","_x","apply","arguments","register","_ref4","_callee2","_ref3","email","_yield$axios$post2","_callee2$","_context2","_x2","checkPermission","_ref5","_callee3","response","_callee3$","_context3","get","headers","Authorization","_x3"],"sources":["C:/Users/User/alphacamp/todolist-react-starter/src/API/Auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\r\n\r\nexport const login = async ({ username, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/login`, {\r\n      username,\r\n      password,\r\n    });\r\n\r\n    const { authToken } = data;\r\n\r\n    if (authToken) {\r\n      return { success: true, ...data };\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Login Failed]:', error);\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nexport const register = async ({ username, email, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/register`, {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n    const { authToken } = data;\r\n\r\n    if (authToken) {\r\n      return { success: true, ...data };\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Register Failed]: ', error);\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nexport const checkPermission = async (authToken) => {\r\n  try {\r\n    const response = await axios.get(`${authURL}/test-token`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authToken,\r\n      },\r\n    });\r\n    return response.data.success;\r\n  } catch (error) {\r\n    console.error('[Check Permission Failed]:', error);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}