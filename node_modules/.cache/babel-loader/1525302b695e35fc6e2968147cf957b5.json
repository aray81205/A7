{"ast":null,"code":"import axios from 'axios';\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\nexport const login = async _ref => {\n  let {\n    username,\n    password\n  } = _ref;\n  try {\n    const {\n      data\n    } = await axios.post(`${authURL}/login`, {\n      username,\n      password\n    });\n    const {\n      authToken\n    } = data;\n    if (authToken) {\n      return {\n        success: true,\n        ...data\n      };\n    }\n    return data;\n  } catch (error) {\n    console.error('[Login Failed]:', error);\n    return {\n      success: false\n    };\n  }\n};\nexport const register = async _ref2 => {\n  let {\n    username,\n    email,\n    password\n  } = _ref2;\n  try {\n    const {\n      data\n    } = await axios.post(`${authURL}/register`, {\n      username,\n      email,\n      password\n    });\n    const {\n      authToken\n    } = data;\n    if (authToken) {\n      return {\n        success: true,\n        ...data\n      };\n    }\n    return data;\n  } catch (error) {\n    console.error('[Register Failed]: ', error);\n    return {\n      success: false\n    };\n  }\n};\nexport const checkPermission = async authToken => {\n  try {\n    const response = await axios.get(`${authURL}/test-token`, {\n      headers: {\n        Authorization: 'Bearer ' + authToken\n      }\n    });\n    return response.data.success;\n  } catch (error) {\n    console.error('[Check Permission Failed]:', error);\n  }\n};","map":{"version":3,"names":["axios","authURL","login","_ref","username","password","data","post","authToken","success","error","console","register","_ref2","email","checkPermission","response","get","headers","Authorization"],"sources":["C:/Users/User/alphacamp/todolist-react-starter/src/API/Auth.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\r\n\r\nexport const login = async ({ username, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/login`, {\r\n      username,\r\n      password,\r\n    });\r\n\r\n    const { authToken } = data;\r\n\r\n    if (authToken) {\r\n      return { success: true, ...data };\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Login Failed]:', error);\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nexport const register = async ({ username, email, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/register`, {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n    const { authToken } = data;\r\n\r\n    if (authToken) {\r\n      return { success: true, ...data };\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Register Failed]: ', error);\r\n    return { success: false };\r\n  }\r\n};\r\n\r\nexport const checkPermission = async (authToken) => {\r\n  try {\r\n    const response = await axios.get(`${authURL}/test-token`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authToken,\r\n      },\r\n    });\r\n    return response.data.success;\r\n  } catch (error) {\r\n    console.error('[Check Permission Failed]:', error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,yCAAyC;AAEzD,OAAO,MAAMC,KAAK,GAAG,MAAAC,IAAA,IAAkC;EAAA,IAA3B;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAAF,IAAA;EAChD,IAAI;IACF,MAAM;MAAEG;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAE,GAAEN,OAAQ,QAAO,EAAE;MACpDG,QAAQ;MACRC;IACF,CAAC,CAAC;IAEF,MAAM;MAAEG;IAAU,CAAC,GAAGF,IAAI;IAE1B,IAAIE,SAAS,EAAE;MACb,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAE,GAAGH;MAAK,CAAC;IACnC;IAEA,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACvC,OAAO;MAAED,OAAO,EAAE;IAAM,CAAC;EAC3B;AACF,CAAC;AAED,OAAO,MAAMG,QAAQ,GAAG,MAAAC,KAAA,IAAyC;EAAA,IAAlC;IAAET,QAAQ;IAAEU,KAAK;IAAET;EAAS,CAAC,GAAAQ,KAAA;EAC1D,IAAI;IACF,MAAM;MAAEP;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAE,GAAEN,OAAQ,WAAU,EAAE;MACvDG,QAAQ;MACRU,KAAK;MACLT;IACF,CAAC,CAAC;IACF,MAAM;MAAEG;IAAU,CAAC,GAAGF,IAAI;IAE1B,IAAIE,SAAS,EAAE;MACb,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAE,GAAGH;MAAK,CAAC;IACnC;IAEA,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,OAAO;MAAED,OAAO,EAAE;IAAM,CAAC;EAC3B;AACF,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAOP,SAAS,IAAK;EAClD,IAAI;IACF,MAAMQ,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAE,GAAEhB,OAAQ,aAAY,EAAE;MACxDiB,OAAO,EAAE;QACPC,aAAa,EAAE,SAAS,GAAGX;MAC7B;IACF,CAAC,CAAC;IACF,OAAOQ,QAAQ,CAACV,IAAI,CAACG,OAAO;EAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;EACpD;AACF,CAAC"},"metadata":{},"sourceType":"module"}