{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/alphacamp/todolist-react-starter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/alphacamp/todolist-react-starter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/alphacamp/todolist-react-starter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AuthContainer,AuthInputContainer,AuthButton,AuthLinkText}from'components/common/auth.styled';import{ACLogoIcon}from'assets/images';import{AuthInput}from'components';import{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import Swal from'sweetalert2';import{useAuth}from'Contexts/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignUpPage=function SignUpPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var navigate=useNavigate();var _useAuth=useAuth(),register=_useAuth.register,isAuthenticated=_useAuth.isAuthenticated;var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var success;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(username.length===0)){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!(password.length===0)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:if(!(email.length===0)){_context.next=6;break;}return _context.abrupt(\"return\");case 6:_context.next=8;return register({username:username,email:email,password:password});case 8:success=_context.sent;if(!success){_context.next=12;break;}Swal.fire({position:'top',title:'註冊成功！',timer:1000,icon:'success',showConfirmButton:false});return _context.abrupt(\"return\");case 12:Swal.fire({position:'top',title:'註冊失敗！',timer:1000,icon:'error',showConfirmButton:false});case 13:case\"end\":return _context.stop();}},_callee);}));return function handleClick(){return _ref.apply(this,arguments);};}();useEffect(function(){if(isAuthenticated){navigate('/todos');}},[navigate,isAuthenticated]);return/*#__PURE__*/_jsxs(AuthContainer,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(ACLogoIcon,{})}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\u5EFA\\u7ACB\\u60A8\\u7684\\u5E33\\u865F\"}),/*#__PURE__*/_jsx(AuthInputContainer,{children:/*#__PURE__*/_jsx(AuthInput,{label:\"\\u5E33\\u865F\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u5E33\\u865F\",value:username,onChange:function onChange(nameInputValue){return setUsername(nameInputValue);}})}),/*#__PURE__*/_jsx(AuthInputContainer,{children:/*#__PURE__*/_jsx(AuthInput,{label:\"Email\",placeholder:\"\\u8ACB\\u8F38\\u5165Email\",value:email,onChange:function onChange(emailInputValue){return setEmail(emailInputValue);}})}),/*#__PURE__*/_jsx(AuthInputContainer,{children:/*#__PURE__*/_jsx(AuthInput,{label:\"\\u5BC6\\u78BC\",placeholder:\"\\u8ACB\\u8F38\\u5165\\u5BC6\\u78BC\",value:password,onChange:function onChange(passwordInputValue){return setPassword(passwordInputValue);}})}),/*#__PURE__*/_jsx(AuthButton,{onClick:handleClick,children:\"\\u8A3B\\u518A\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(AuthLinkText,{children:\"\\u53D6\\u6D88\"})})]});};export default SignUpPage;","map":{"version":3,"names":["AuthContainer","AuthInputContainer","AuthButton","AuthLinkText","ACLogoIcon","AuthInput","useState","useEffect","Link","useNavigate","Swal","useAuth","jsx","_jsx","jsxs","_jsxs","SignUpPage","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","navigate","_useAuth","register","isAuthenticated","handleClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","success","wrap","_callee$","_context","prev","next","length","abrupt","sent","fire","position","title","timer","icon","showConfirmButton","stop","apply","arguments","children","label","placeholder","value","onChange","nameInputValue","emailInputValue","passwordInputValue","onClick","to"],"sources":["C:/Users/User/alphacamp/todolist-react-starter/src/pages/SignUpPage.jsx"],"sourcesContent":["import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText,\r\n} from 'components/common/auth.styled';\r\nimport { ACLogoIcon } from 'assets/images';\r\nimport { AuthInput } from 'components';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport { useAuth } from 'Contexts/AuthContext';\r\n\r\nconst SignUpPage = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const { register, isAuthenticated } = useAuth();\r\n\r\n  const handleClick = async () => {\r\n    if (username.length === 0) {\r\n      return;\r\n    }\r\n    if (password.length === 0) {\r\n      return;\r\n    }\r\n    if (email.length === 0) {\r\n      return;\r\n    }\r\n    const success = await register({\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n\r\n    if (success) {\r\n      Swal.fire({\r\n        position: 'top',\r\n        title: '註冊成功！',\r\n        timer: 1000,\r\n        icon: 'success',\r\n        showConfirmButton: false,\r\n      });\r\n\r\n      return;\r\n    }\r\n    Swal.fire({\r\n      position: 'top',\r\n      title: '註冊失敗！',\r\n      timer: 1000,\r\n      icon: 'error',\r\n      showConfirmButton: false,\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/todos');\r\n    }\r\n  }, [navigate, isAuthenticated]);\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>建立您的帳號</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"帳號\"\r\n          placeholder=\"請輸入帳號\"\r\n          value={username}\r\n          onChange={(nameInputValue) => setUsername(nameInputValue)}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"Email\"\r\n          placeholder=\"請輸入Email\"\r\n          value={email}\r\n          onChange={(emailInputValue) => setEmail(emailInputValue)}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          label=\"密碼\"\r\n          placeholder=\"請輸入密碼\"\r\n          value={password}\r\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)}\r\n        />\r\n      </AuthInputContainer>\r\n      <AuthButton onClick={handleClick}>註冊</AuthButton>\r\n      <Link to=\"/login\">\r\n        <AuthLinkText>取消</AuthLinkText>\r\n      </Link>\r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}